# –°–∏—Å—Ç–µ–º–∞ –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ–º–∞–º–∏

## –ü—Ä–æ–±–ª–µ–º–∞
–ê–≥–µ–Ω—Ç—ã –∑–∞—Ü–∏–∫–ª–∏–≤–∞–ª–∏—Å—å –Ω–∞ –æ–¥–Ω–æ–π —Ç–µ–º–µ, —Ä–∞–∑–≥–æ–≤–æ—Ä —Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è –º–æ–Ω–æ—Ç–æ–Ω–Ω—ã–º –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º.

## –†–µ—à–µ–Ω–∏–µ

### 1. –ë–∞–Ω–∫ —Ç–µ–º (Topic Bank)
15 —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã—Ö —Ç–µ–º –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è:
- –§–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã (—Å—á–∞—Å—Ç—å–µ, —Å–≤–æ–±–æ–¥–∞ vs –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, —Å—É–¥—å–±–∞)
- –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ç–µ–º—ã (–ò–ò, –±—É–¥—É—â–µ–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π)
- –õ–∏—á–Ω–æ—Å—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã (—É—Å–ø–µ—Ö, –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ, –±–∞–ª–∞–Ω—Å —Ä–∞–±–æ—Ç—ã/–∂–∏–∑–Ω–∏)
- –¢–≤–æ—Ä—á–µ—Å–∫–∏–µ —Ç–µ–º—ã (–∏—Å–∫—É—Å—Å—Ç–≤–æ, –º–∏–Ω–∏–º–∞–ª–∏–∑–º, —é–º–æ—Ä)

### 2. –ú–µ—Ö–∞–Ω–∏–∑–º —Å–º–µ–Ω—ã —Ç–µ–º

#### –ü–æ—Ä–æ–≥ —Å–º–µ–Ω—ã —Ç–µ–º—ã
–ü–æ—Å–ª–µ `TOPIC_CHANGE_THRESHOLD = 6` —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–∞ –æ–¥–Ω—É —Ç–µ–º—É:
- –°–∏—Å—Ç–µ–º–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —á—Ç–æ —Ç–µ–º–∞ –∏—Å—á–µ—Ä–ø–∞–Ω–∞
- –ü–æ—è–≤–ª—è–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –Ω–æ–≤—É—é —Ç–µ–º—É

#### –ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
–ö–æ–≥–¥–∞ –ø–æ—Ä–∞ –º–µ–Ω—è—Ç—å —Ç–µ–º—É, —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é `CREATIVITY_BOOST = 0.3`:
- –°–ª—É—á–∞–π–Ω—ã–π –∞–≥–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –Ω–æ–≤—É—é —Ç–µ–º—É
- –ê–≥–µ–Ω—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ–º—É –∏—Å—Ö–æ–¥—è –∏–∑ —Å–≤–æ–µ–π –ª–∏—á–Ω–æ—Å—Ç–∏
- –ù–æ–≤–∞—è —Ç–µ–º–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –æ–±—Å—É–∂–¥—ë–Ω–Ω—ã–µ

### 3. –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–º

–ö–æ–≥–¥–∞ –∞–≥–µ–Ω—Ç –≤ —Ä–µ–∂–∏–º–µ `new_topic`:
```
–°–µ–π—á–∞—Å —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ù–û–í–£–Æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—É—é —Ç–µ–º—É –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è.
–ü—Ä–∞–≤–∏–ª–∞:
- –ü—Ä–µ–¥–ª–æ–∂–∏ —Ç–µ–º—É –æ–¥–Ω–∏–º –≤–æ–ø—Ä–æ—Å–æ–º –∏–ª–∏ —Ñ—Ä–∞–∑–æ–π (1 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ)
- –¢–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–π –∏ –ø—Ä–æ–≤–æ–∫–∞—Ü–∏–æ–Ω–Ω–æ–π
- –ú–æ–∂–µ—à—å —Å–≤—è–∑–∞—Ç—å –µ—ë —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –æ–±—Å—É–∂–¥–µ–Ω–∏–µ–º, –Ω–æ —Å–¥–µ–ª–∞–π –∞–∫—Ü–µ–Ω—Ç –Ω–∞ —á—ë–º-—Ç–æ –Ω–æ–≤–æ–º
- –ì–æ–≤–æ—Ä–∏ –æ—Ç –ø–µ—Ä–≤–æ–≥–æ –ª–∏—Ü–∞, –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ
```

### 4. –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã

#### –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
```
üí° –í–∏–∫–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –Ω–æ–≤—É—é —Ç–µ–º—É...
[tick  12] üí° –í–∏–∫–∞: –ê –¥–∞–≤–∞–π—Ç–µ –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ —Ç–æ–º, –∫–∞–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –≤–ª–∏—è—é—Ç –Ω–∞ –æ—Ç–Ω–æ—à–µ–Ω–∏—è?
```

#### –í —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ:
```
üí¨ –¢–µ–∫—É—â–∞—è —Ç–µ–º–∞: –∫–∞–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –≤–ª–∏—è—é—Ç –Ω–∞ –æ—Ç–Ω–æ—à–µ–Ω–∏—è?
   –°–æ–æ–±—â–µ–Ω–∏–π –ø–æ —Ç–µ–º–µ: 3
```

### 5. –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å

–¢–µ–º—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `data/topics.json`:
```json
{
  "current_topic": "–∫–∞–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –≤–ª–∏—è—é—Ç –Ω–∞ –æ—Ç–Ω–æ—à–µ–Ω–∏—è?",
  "messages_on_topic": 3,
  "discussed_topics": [
    "—á—Ç–æ –¥–ª—è –≤–∞—Å –∑–Ω–∞—á–∏—Ç —Å—á–∞—Å—Ç—å–µ?",
    "–∫–∞–∫–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏–∑–º–µ–Ω—è—Ç –º–∏—Ä –≤ –±–ª–∏–∂–∞–π—à–∏–µ 10 –ª–µ—Ç?"
  ],
  "last_updated": "2026-02-16T12:00:00"
}
```

## –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã

```
1. –°—Ç–∞—Ä—Ç: –≤—ã–±–æ—Ä —Å–ª—É—á–∞–π–Ω–æ–π —Ç–µ–º—ã –∏–∑ –±–∞–Ω–∫–∞
   ‚Üì
2. –ê–≥–µ–Ω—Ç—ã –æ–±—Å—É–∂–¥–∞—é—Ç (–æ–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º)
   ‚Üì
3. –°—á—ë—Ç—á–∏–∫ —Å–æ–æ–±—â–µ–Ω–∏–π: +1 –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
   ‚Üì
4. messages_on_topic >= 6?
   –ù–µ—Ç ‚Üí –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –æ–±—Å—É–∂–¥–µ–Ω–∏–µ
   –î–∞ ‚Üì
5. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ —á–∏—Å–ª–∞ < 0.3?
   –ù–µ—Ç ‚Üí –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ç–µ–∫—É—â—É—é —Ç–µ–º—É
   –î–∞ ‚Üì
6. –í—ã–±—Ä–∞—Ç—å —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞
   ‚Üì
7. –ê–≥–µ–Ω—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—É—é —Ç–µ–º—É (—Ä–µ–∂–∏–º new_topic)
   ‚Üì
8. –¢–µ–º–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç–µ–∫—É—â–µ–π, —Å—á—ë—Ç—á–∏–∫ = 0
   ‚Üì
9. –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —à–∞–≥—É 2
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–î–∏–Ω–∞–º–∏—á–Ω–æ—Å—Ç—å** - —Ä–∞–∑–≥–æ–≤–æ—Ä –Ω–µ –∑–∞—Å—Ç–∞–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –æ–¥–Ω–æ–π —Ç–µ–º–µ
‚úÖ **–ö—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å** - –∞–≥–µ–Ω—Ç—ã —Å–∞–º–∏ –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç —Ç–µ–º—ã –≤ —Å–≤–æ—ë–º —Å—Ç–∏–ª–µ
‚úÖ **–†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ** - 15 —Ç–µ–º √ó –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–≥–µ–Ω—Ç–æ–≤ = –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ –≤–∞—Ä–∏–∞—Ü–∏–∏
‚úÖ **–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å** - —Å–º–µ–Ω–∞ —Ç–µ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—Ä–≥–∞–Ω–∏—á–Ω–æ
‚úÖ **–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –ø—Ä–æ–≥—Ä–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```python
TOPIC_CHANGE_THRESHOLD = 6  # –°–æ–æ–±—â–µ–Ω–∏–π –¥–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–º–µ–Ω—ã —Ç–µ–º—ã
CREATIVITY_BOOST = 0.3       # –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –Ω–æ–≤—É—é —Ç–µ–º—É (0-1)
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- `TOPIC_CHANGE_THRESHOLD = 4-8` - –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω
- `CREATIVITY_BOOST = 0.2-0.5` - –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é –∏ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ–º

## –ü—Ä–∏–º–µ—Ä—ã

### –í–∏–∫–∞ (–ø—Ä–æ–≤–æ–∫–∞—Ç–æ—Ä):
> "–ê —á—Ç–æ –µ—Å–ª–∏ —Å—á–∞—Å—Ç—å–µ ‚Äî —ç—Ç–æ –∏–ª–ª—é–∑–∏—è, –∫–æ—Ç–æ—Ä—É—é –º—ã —Å–∞–º–∏ —Å–µ–±–µ —Å–æ–∑–¥–∞—ë–º?"

### –ë–æ—Ä–∏—Å (—Å–∫–µ–ø—Ç–∏–∫):
> "–î–∞–≤–∞–π—Ç–µ –æ–±—Å—É–¥–∏–º —á—Ç–æ-—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ: –∫–∞–∫–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–æ–ª–µ–∑–Ω—ã?"

### –ê–ª–∏—Å–∞ (–æ–ø—Ç–∏–º–∏—Å—Ç):
> "–ú–æ–∂–µ—Ç –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ —Ç–æ–º, —á—Ç–æ –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç –Ω–∞—Å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å?"
